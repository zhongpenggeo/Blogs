### 资源分配

- 已激活
- 未激活：分配到SM，但没有到片上

而每个SM上有多少个线程束处于激活状态，取决于以下资源：

- 程序计数器
- 寄存器
- 共享内存

每个SM都有32位的**寄存器**组，每个架构寄存器的数量不一样，其存储于寄存器文件中，为每个线程进行分配，同时，固定数量的**共享内存**，在线程块之间分配。

一个SM上**被分配**多少个线程块和线程束取决于SM中可用的**寄存器和共享内存**，以及内核需要的寄存器和共享内存大小。

以下是资源列表：

![img](imags/3_2.png)

当寄存器和共享内存分配给了线程块，这个线程块处于活跃状态，所包含的线程束称为活跃线程束。
**活跃的线程束又分为三类**：

- 选定的线程束：执行的这个线程束
- 阻塞的线程束：不符合条件还没准备好
- 符合条件的线程束：准备要执行


满足下面的要求，线程束才算是符合条件的：

- 32个CUDA核心可以用于执行
- 执行所需要的资源全部就位

### 延迟隐藏





参考：[【CUDA 基础】3.2 理解线程束执行的本质(Part II) | 谭升的博客 (face2ai.com)](https://face2ai.com/CUDA-F-3-2-理解线程束执行的本质-P2/)

