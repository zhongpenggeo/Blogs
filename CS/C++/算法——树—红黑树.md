## 1. 用途
在C++ STL中，map和set都是用红黑树实现的。

## 2. 特征

AVL树的一个变种，最坏情况下操作花费$$O(log_2 N)$$；AVL子树的高度差不超过1，而红黑树的高度差不会相差二倍。  

#### 定义
它在**二叉查找树的基础上**又具备如下特征

1. 每个结点要么红色，要么黑色
2. 根是黑色
3. 每个叶子节点都是黑色的空节点（NILL节点）
4. 如果一个结点是红色，那么子结点必须黑色
5. 从一个结点到一个NULL指针的每一条路径都必须包含相同数目的黑色结点。

![img](../imags/251730074203156.jpg)

该规则的结论是：红黑树的高度最多$$2log(N+1)$$。

## 3. 操作
#### 1. 插入

1. 红黑树本身是一棵二叉查找树，将结点插入后，它仍然是二叉查找树。
2. 将插入的结点着色为“红色”，**这样不会违背特征5**，
3. 一系列**旋转或变色**，使之成为红黑树：由于插入只有可能违背特性4.

#### 2. 删除
对于删除后的操作，需要分为做种情况：  
case1. x的兄弟w是红色的  
case2. x的兄弟w是黑色，且w的俩个孩子也都是黑色的  
case3. x的兄弟w是黑色的，并且w的左孩子是红色，右孩子为黑色  
case4. x的兄弟w是黑色的；并且w的右孩子是红色的，左孩子任意颜色。  