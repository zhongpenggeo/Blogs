### 01背包问题

虚拟一个场景，商店中拥有 5 件商品，它们各自的重量和收益分别是：

- 商品 1：重量 1 斤，收益 1 元；
- 商品 2：重量 2 斤，收益 6 元；
- 商品 3：重量 5 斤，收益 18 元；
- 商品 4：重量 6 斤，收益 22 元；
- 商品 5：重量 7 斤，收益 28 元。


所有商品不可再分，顾客要么“整件”购买商品，要么放弃购买。一个小偷想窃取商品，他的背包只能装 11 斤商品，如何选择商品才能获得最大的收益呢？

### 算法思想

动态规划算法。

背包承重 1 斤时所能获得的最大收益是很容易计算的，在此基础上，可以推算出背包承重 2 斤、3斤、...、14斤、15斤时所能获得的最大收益。建立如下这张表格，依次将各个商品装入不同承重的背包中，计算出它们所能获得的最大收益。

| 商品种类        | 背包承重 |      |      |      |      |      |      |      |      |      |      |      |
| --------------- | -------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 0               | 1        | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   |      |
| 不装任何商品    | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| w1 = 1，v1 = 1  | 0        | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| w2 = 2，v2 = 6  | 0        | 1    | 6    | 7    | 7    | 7    | 7    | 7    | 7    | 7    | 7    | 7    |
| w3 = 5，v3 = 18 | 0        | 1    | 6    | 7    | 7    | 18   | 19   | 24   | 25   | 25   | 25   | 25   |
| w4 = 6，v4 = 22 | 0        | 1    | 6    | 7    | 7    | 18   | 22   | 24   | 28   | 29   | 29   | 40   |
| w5 = 7，v5 = 28 | 0        | 1    | 6    | 7    | 7    | 18   | 22   | 28   | 29   | 34   | 35   | 40   |


表格中，wi 表示第 i 件商品的重量，vi 表示第 i 件商品的收益值。承重不同的各个背包尚未装入商品时，对应的收益值都为 0。

伪代码

```C
输入 N    // 指定商品种类
输入 W    // 指定背包载重量
//w[] 记录各个商品的载重量，v[] 记录各个商品对应的收益
knapsack01(w[] , v[]):
    //逐个遍历每个商品
    for i <- 1 to N：
        //求出从 1 到 W 各个载重量对应的最大收益
        for j <- 1 to W:
            //如果背包载重量小于商品总重量，则商品无法放入背包，收益不变
            if  j < w[i]:
                result[i][j] = result[i-1][j]
            else:
                //比较装入该商品和不装该商品，哪种情况获得的收益更大，记录最大收益值
                result[i][j] = max(result[i-1][j] , v[i]+result[i-1][j-w[i]])
    return result 
```

