---
title: 1.2 类
date: 2021-07-27 09:59:04
categories:
- C++
---
### 保护、私有和公有

protected, private, public

保护是针对继承派生而言的，对类成员而言，保护等效于私有，但私有不能被继承，而保护可以

### 访问函数与修改函数

访问函数：只检测但不改变其对象状态的成员函数

修改函数：改变起对象状态

C++的class中每个成员函数都可分为这两种，一些规则：所有成员函数都是修改函数，而成员函数是在参数类型列表的圆括号后加上关键字`const`，

### vector与string

C++ STL定义了两个类`vector`与`string`，vector可以代替C++内置数组。

内置数组的问题在于**其行为与基本类对象不同**。比如不能使用=复制，也不能记忆本身能存储多少项，索引操作不能检查索引是否有效。

内置字符串仅是字符数组，并灭有提高数组功效，比如==不能比较两个内置字符串。

### 三大函数：析构、复制构造函数与operator=

#### 1. 析构函数

释放使用对象所占有的所有资源

默认操作是对每一个数据成员都是用析构函数

#### 2. 复制构造函数

```C++
intcell B=C;
intcell B(c);
B=c
```

第一种是显示构造，第二第三种构造了用户不可见的临时对象。

默认情况下，复制构造函数通过将复制构造函数依次应用到每一个数据成员来实现，对于简单数据类型（int，double，指针等）进行简单赋值即可。

但对于数据成员是指针的类，复制构造函数和operator=都不复制指针所指向的对象，**而是简单复制指针的值**。，这样依赖，就得到两个实例，它们包含的指针指向了同一个对象，这被称为**浅复制**，一般我们希望对整个对象进行克隆，即**深复制**。所以数据成员存在指针时，需要手动实现三大函数。

